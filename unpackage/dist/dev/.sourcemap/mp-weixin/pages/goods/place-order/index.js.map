{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/7-star-app/main.js","webpack:///C:/Users/Administrator/Desktop/7-star-app/pages/goods/place-order/index.vue?0e8d","webpack:///C:/Users/Administrator/Desktop/7-star-app/pages/goods/place-order/index.vue?e250","webpack:///C:/Users/Administrator/Desktop/7-star-app/pages/goods/place-order/index.vue?91bf","webpack:///C:/Users/Administrator/Desktop/7-star-app/pages/goods/place-order/index.vue?745a","webpack:///C:/Users/Administrator/Desktop/7-star-app/pages/goods/place-order/index.vue","webpack:///C:/Users/Administrator/Desktop/7-star-app/pages/goods/place-order/index.vue?21e8","webpack:///C:/Users/Administrator/Desktop/7-star-app/pages/goods/place-order/index.vue?3d49"],"names":["createPage","Page","mixins","goods","data","type_items","type_current","cartData","products","promotions","userShip","receiptType","params","ids","area_id","coupon_code","point","type","invoice","name","code","memo","items","orderType","current","isUsePoint","userPointNums","canUsePoint","pointMoney","userCoupons","usedCoupons","inputCouponCode","optCoupon","store","id","mobile","address","store_pick","team_id","submitStatus","components","lvvPopup","uniSegmentedControl","onLoad","options","cartIds","cart_ids","order_type","JSON","parse","$common","successToShow","uni","navigateBack","delta","userDefaultShip","getUserCounpons","getDefaultStore","onShow","methods","onTypeItem","index","getCartList","goStorelist","navigateTo","url","goAddress","$api","res","status","Object","keys","length","cartList","isOpenPoint","money","order_money","amount","usablePoint","available_point","point_rmb","formatMoney","goods_amount","goods_pmt_old","goods_pmt","coupon_pmt","order_pmt_old","order_pmt","point_money","cost_freight","list","noStock","i","is_select","errorToShow","promotion_list","coupon","$refs","lvvpopref","popshow","toclose","msg","errStatus","indexOf","removeCouponCode","forEach","item","checked","display","userCoupon","_list","nowTime","Math","round","Date","getTime","toString","$set","start_time","disabled","couponHandle","arr","push","join","paramsCodes","split","usedIndex","splice","useInputCouponCode","notUseCoupon","changePointHandle","toshow","show","close","toPay","e","receipt_type","stringify","delivery","uship_id","store_id","lading_name","lading_mobile","detail","formId","assign","createOrder","pay_status","redirectTo","order_id","goInvoice","showAddressList","onClickItem","storeSwitch","defaultStore","store_name","store_mobile","all_address","computed","productNums","nums","$store","state","config","point_switch","usedCouponsCompute","coupons","invoiceSwitch","invoice_switch","store_switch","couponIsUsed","Array","watch","handler","deep"],"mappings":"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","file":"pages/goods/place-order/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/goods/place-order/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=b902ac2c&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/Administrator/Desktop/7-star-app/pages/goods/place-order/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=b902ac2c&\"","var components = {\n  uniSegmentedControl: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-segmented-control/uni-segmented-control\" */ \"@/components/uni-segmented-control/uni-segmented-control.vue\"\n    )\n  },\n  lvvPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/lvv-popup/lvv-popup\" */ \"@/components/lvv-popup/lvv-popup.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import lvvPopup from '@/components/lvv-popup/lvv-popup.vue'\n    import uniSegmentedControl from \"@/components/uni-segmented-control/uni-segmented-control.vue\"\n    import { goods } from '@/config/mixins.js'\n    export default {\n        mixins: [ goods ],\n        data () {\n            return {\n                type_items: ['快递配送','门店自提'],//门店自提切换\n                type_current: 0,\n                cartData: {}, // 购物车商品详情\n                products: [], // 货品信息\n                promotions: [], // 促销信息\n                userShip: {}, // 用户收货地址\n                receiptType: 1, // 订单类型 1是发货订单 2是门店自提订单\n                params: {\n                    ids: 0, // 传递过来的购物车id\n                    area_id: 0, // 收货地址id\n                    coupon_code: '', // 优惠券码列表(string)多张逗号分隔\n                    point: 0 ,// 抵扣积分额\n                    type :1 ,//购物车类型\n                }, // 监听params参数信息 以重新请求接口\n                // 发票信息\n                invoice: {\n                    type: '1',\t// 类型 1不开发票 2个人发票 3公司发票\n                    name: '不开发票',\t// 发票抬头\n                    code: ''\t// 发票税号\n                },\n                memo: '', // 买家留言\n                items: [\n                    '选择优惠券',\n                    '输入券码',\n                ],\n                orderType: 1, // 商品订单类型 1\n                current: 0,\n                isUsePoint: false,\t// 是否勾选使用积分\n                userPointNums: 0, // 用户的总积分\n                canUsePoint: 0,\t// 可以使用的积分\n                pointMoney: '', // 积分抵扣的金额\n                userCoupons: [], // 用户的可用优惠券列表\n                usedCoupons: {}, // 已经选择使用的优惠券\n                inputCouponCode: '', // 输入的优惠券码\n                optCoupon: '' ,// 当前选择使用的优惠券(暂存使用 如果接口返回不可用则剔除优惠券状态)\n                store : {\n                    id: 0,\n                    name: '',\n                    mobile: '',\n                    address: ''\n                },\n                store_pick: {\n                    name: '',\n                    mobile: ''\n                },\n                team_id: 0, //拼团id\n\t\t\t\tsubmitStatus: false\n            }\n        },\n        components: {lvvPopup,uniSegmentedControl},\n        onLoad (options) {\n            let cartIds = options.cart_ids;\n            if(options.order_type){\n                this.params.order_type = options.order_type;\n            }\n            if(options.team_id){\n                this.team_id = options.team_id;\n            }\n\t\t\t\n            this.params.ids = JSON.parse(cartIds)\n            if (!this.params.ids) {\n                this.$common.successToShow('获取失败', function(){\n                    uni.navigateBack({\n                        delta: 1\n                    })\n                })\n            }\n            // 获取用户的默认收货地址信息\n            this.userDefaultShip()\n\n            // 获取用户的可用优惠券信息\n            this.getUserCounpons()\n\n            //获取默认门店信息\n            this.getDefaultStore();\n        },\n\t\tonShow() {\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t},\n        methods: {\n            // 切换门店\n            onTypeItem(index) {\n                if (this.type_current !== index) {\n                    this.type_current = index;\n                }\n                let receiptType = 1;\n                if(this.type_current != 0){\n                    receiptType = 2;\n                }\n                this.receiptType = receiptType;\n\n                this.getCartList();\n            },\n            // 跳转到门店列表\n            goStorelist(){\n                uni.navigateTo({\n                    url: './storelist'\n                })\n            },\n            // 没有收货地址时跳转\n            goAddress(){\n                uni.navigateTo({\n                    url: '/pages/member/address/list?type=order'\n                })\n            },\n            // 获取用户的默认收货地址\n            userDefaultShip () {\n                this.$api.userDefaultShip({}, res => {\n                    if (res.status && Object.keys(res.data).length) {\n                        this.userShip = res.data\n                        this.params.area_id = this.userShip.area_id\n                    }\n                })\n            },\n            // 获取购物车商品详情\n            getCartList () {\n                let data = this.params\n                data['receipt_type'] = this.receiptType\t// 区分订单类型  1快递订单 2门店自提订单\n\n                this.$api.cartList(data, res => {\n                    if (res.status) {\n                        let data = res.data\n\n                        // 判断是否开启积分抵扣 并且 没有勾选积分使用\n                        if (this.isOpenPoint === 1 && !this.isUsePoint) {\n                            let money = {\n                                order_money: data.amount\n                            }\n                            this.$api.usablePoint(money, res => {\n                                if (res.status) {\n                                    this.userPointNums = res.data\t// 用户总积分\n                                    this.canUsePoint = res.available_point\t// 可以使用的积分\n                                    this.pointMoney = res.point_rmb\t// 积分抵扣的总金额\n                                }\n                            })\n                        }\n\n                        // 所有价格转换\n                        data.amount = this.$common.formatMoney(data.amount);\n                        data.goods_amount = this.$common.formatMoney(data.goods_amount);\n                        data.goods_pmt_old = data.goods_pmt;\n                        data.goods_pmt = this.$common.formatMoney(data.goods_pmt);\n                        data.coupon_pmt = this.$common.formatMoney(data.coupon_pmt);\n                        data.order_pmt_old = data.order_pmt;\n                        data.order_pmt = this.$common.formatMoney(data.order_pmt);\n                        data.point_money = this.$common.formatMoney(data.point_money);\n                        data.cost_freight = this.$common.formatMoney(data.cost_freight);\n\n                        // 购物车详情\n                        this.cartData = data\n                        // 商品详情\n                        this.products = data.list\n\t\t\t\t\t\t//判断是否有库存\n\t\t\t\t\t\tlet noStock = true;\n\t\t\t\t\t\tfor(let i=0;i<data.list.length;i++){\n\t\t\t\t\t\t\tif(data.list[i].is_select){\n\t\t\t\t\t\t\t\tnoStock = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(noStock){\n\t\t\t\t\t\t\tthis.$common.errorToShow(\"您所挑选的商品已售罄，请重新添加哦\");\n\t\t\t\t\t\t}\n                        // 优惠信息\n                        this.promotions = data.promotion_list\n                        // 使用的优惠券信息\n                        this.usedCoupons = data.coupon\n\n                        // 手动输入的优惠券使用成功后关闭弹窗并清除输入的优惠券码\n                        this.current === 1 && this.$refs.lvvpopref.popshow && this.inputCouponCode ? this.toclose() : ''\n                        this.inputCouponCode = ''\n\n                        this.optCoupon = ''\n                    } else {\n                        this.$common.errorToShow(res.msg, () => {\n                            // 优惠券不可用状态判断\n                            // 优惠券号码不存在 \t\t\t15009\n                            // 优惠券未开始\t\t\t\t15010\n                            // 优惠券已使用\t\t\t\t15013\n                            // 优惠券不符合使用规则\t\t15014\n                            // 优惠券不可使用多张\t\t\t15015\n                            let errStatus = [15009, 15010, 15013, 15014, 15015]\n\n                            if (errStatus.indexOf(res.data) !== -1) {\n                                // 删除使用的优惠券号码\n                                if (this.current === 1) {\n                                    this.removeCouponCode(this.inputCouponCode, this.current)\n                                } else {\n                                    // 取消选择使用的状态\n                                    if (this.optCoupon) {\n                                        this.userCoupons.forEach(item => {\n                                            if (item.coupon_code === this.optCoupon) {\n                                                item.checked = false\n                                            }\n                                        })\n                                    }\n                                    this.removeCouponCode(this.optCoupon, this.current)\n                                }\n                            }\n                        })\n                    }\n                })\n            },\n            // 获取用户可用的优惠券信息\n            getUserCounpons () {\n                let data = {\n                    display: 'no_used'\n                }\n                this.$api.userCoupon(data, res => {\n                    if (res.status) {\n                        let _list = res.data.list\n                        let nowTime = Math.round(new Date().getTime() / 1000).toString()\n                        _list.forEach(item => {\n                            this.$set(item, 'checked', false)\n                            // 判断优惠券是否有效(开始时间)\n                            this.$set(item, 'disabled', item.start_time > nowTime ? true : false)\n                            this.$set(item, 'cla', item.disabled ? 'cci-l bg-c' : 'cci-l')\t// 绑定相应的class样式\n                        })\n                        this.userCoupons = _list\n                    }\n                })\n            },\n            // 点击使用/取消优惠券操作\n            couponHandle (index) {\n                // 更改使用/取消状态\n                this.userCoupons[index].checked = !this.userCoupons[index].checked\n\n                // 暂存当次选中使用的优惠券key\n                this.optCoupon = this.userCoupons[index].coupon_code\n\n                let arr = []\n                this.userCoupons.forEach(item => {\n                    if (item.checked) {\n                        arr.push(item.coupon_code)\n                    }\n                })\n                if (this.userCoupons[index].checked) {\n                    // 使用\n                    this.params.coupon_code = arr.join()\n                } else {\n                    // 取消使用\n                    let paramsCodes = this.params.coupon_code.split(',')\n                    let usedIndex = paramsCodes.indexOf(this.userCoupons[index].coupon_code)\n                    if (usedIndex !== -1) {\n                        paramsCodes.splice(usedIndex, 1)\n                        this.params.coupon_code = paramsCodes.join()\n                    }\n                }\n            },\n            // 手输的优惠券码使用\n            useInputCouponCode () {\n                if (!this.inputCouponCode) {\n                    this.$common.errorToShow('请输入优惠券码')\n                } else {\n                    // 判断是否有使用的优惠券\n                    if (this.params.coupon_code.length > 0) {\n                        this.params.coupon_code += ',' + this.inputCouponCode\n                    } else {\n                        this.params.coupon_code = this.inputCouponCode\n                    }\n                }\n            },\n            // 不使用优惠券\n            notUseCoupon () {\n                this.toclose()\n                this.inputCouponCode = ''\t// 清空手输的优惠券码\n                this.userCoupons.forEach(item => {\n                    item.checked = false\n                }) // 取消所有选中的使用状态\n                this.params.coupon_code = ''\t// 清空params优惠券码\n            },\n            // 移除/取消使用中的指定优惠券\n            removeCouponCode (code, current) {\n                let arr = this.params.coupon_code.split(',')\n                arr.splice(arr.indexOf(code), 1)\n                current === 0 ? this.optCoupon = '' : this.inputCouponCode = ''\n                this.params.coupon_code = arr.join()\n            },\n            // 是否使用积分\n            changePointHandle(){\n                if(this.userPointNums > 0){\n                    this.isUsePoint = !this.isUsePoint;\n                    this.params.point = this.isUsePoint ? this.canUsePoint : 0;\n                }\n            },\n            // 显示modal弹出框\n            toshow(){\n                this.$refs.lvvpopref.show();\n            },\n            // 关闭modal弹出框\n            toclose(){\n                this.$refs.lvvpopref.close();\n            },\n            // 去支付\n            toPay (e) {\n\t\t\t\tthis.submitStatus = true;\n                let receiptType = 1;\n                if(this.type_current != 0){\n                    receiptType = 2;\n                }\n                this.receiptType = receiptType;\n\n                let data = {\n                    cart_ids: this.params.ids,\n                    memo: this.memo,\n                    coupon_code: this.params.coupon_code,\n                    point: this.params.point,\n                    receipt_type: this.receiptType\n                }\n                data['order_type'] = this.params.order_type; //订单类型\n                if(this.team_id != 0){\n                    data['params'] = JSON.stringify({team_id:this.team_id})  //团id\n                }\n                let delivery = {}\n                // 判断是快递配送还是门店自提\n                if(this.receiptType == 1){\n                    if(!this.userShip.id || !this.params.area_id){\n                        this.$common.errorToShow('请选择收货地址');\n\t\t\t\t\t\tthis.submitStatus = false;\n                        return false;\n                    }\n                    // 快递配送\n                    delivery = {\n                        uship_id: this.userShip.id,\n                        area_id: this.params.area_id\n                    }\n                }\n                if(this.receiptType == 2){\n                    if(!this.store.id){\n                        this.$common.errorToShow('请选择自提门店');\n\t\t\t\t\t\tthis.submitStatus = false;\n                        return false;\n                    }\n                    if(!this.store_pick.name){\n                        this.$common.errorToShow('请输入提货人姓名');\n\t\t\t\t\t\tthis.submitStatus = false;\n                        return false;\n                    }\n                    if(!this.store_pick.mobile){\n                        this.$common.errorToShow('请输入提货人电话');\n\t\t\t\t\t\tthis.submitStatus = false;\n                        return false;\n                    }\n                    // 门店自提\n                    delivery = {\n                        store_id: this.store.id,\n                        lading_name: this.store_pick.name,\n                        lading_mobile: this.store_pick.mobile\n                    }\n                }\n\n                // 发票信息\n                data['tax_type'] = this.invoice.type\n                data['tax_name'] = this.invoice.name\n                data['tax_code'] = this.invoice.code\n\n\n\n\n\n                data['source'] = 3;\n\t\t\t\tdata['formId'] = e.detail.formId;\n\n\n\n\n\n\n\n\n\n\n                data = Object.assign(data, delivery)\n                this.$api.createOrder(data, res => {\n                    if (res.status) {\n                        // 创建订单成功 去支付\n\t\t\t\t\t\t// this.submitStatus = false;\n\t\t\t\t\t\t// 判断是否为0元订单,如果是0元订单直接支付成功\n\t\t\t\t\t\tif(res.data.pay_status=='2'){\n\t\t\t\t\t\t\tthis.$common.redirectTo(\n\t\t\t\t\t\t\t\t'/pages/goods/payment/result?order_id=' + res.data.order_id\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$common.redirectTo('/pages/goods/payment/index?order_id=' + res.data.order_id + '&type=' + this.orderType)\n\t\t\t\t\t\t}\n                    }else{\n                        this.$common.errorToShow(res.msg);\n\t\t\t\t\t\t// this.submitStatus = false;\n                    }\n                },res => {\n\t\t\t\t\tthis.submitStatus = false;\n\t\t\t\t})\n            },\n            // 跳转发票页面\n            goInvoice () {\n                this.$common.navigateTo('./invoice')\n            },\n            // 跳转我的收货地址列表\n            showAddressList () {\n                this.$common.navigateTo('/pages/member/address/list?type=order')\n            },\n            // tab点击切换\n            onClickItem(index) {\n                if (this.current !== index) {\n                    this.current = index;\n                }\n            },\n            // 获取默认店铺\n            getDefaultStore(){\n\t\t\t\tif (this.storeSwitch == 1) {\n\t\t\t\t\tthis.$api.defaultStore({}, res => {\n\t\t\t\t\t    if(res.status){\n\t\t\t\t\t\t\tif (res.data && res.data.id) {\n\t\t\t\t\t\t\t\tlet store = {\n\t\t\t\t\t\t\t\t    id: res.data.id || 0,\n\t\t\t\t\t\t\t\t    name: res.data.store_name || '',\n\t\t\t\t\t\t\t\t    mobile: res.data.store_mobile || '',\n\t\t\t\t\t\t\t\t    address: res.data.all_address || ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.store = store;\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.$common.errorToShow('商家未配置默认自提店铺！');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t    }\n\t\t\t\t\t});\n\t\t\t\t}\n            }\n            //扫码\n// \t\tscanCode() {\n// \t\t\tconsole.log(1);\n// \t\t\tuni.scanCode({\n// \t\t\t\tsuccess(res) {\n// \t\t\t\t\tconsole.log(2);\n// \t\t\t\t\tconsole.log(res)\n// \t\t\t\t},\n// \t\t\t\tcomplete(res){\n// \t\t\t\t\tconsole.log(3);\n// \t\t\t\t\tconsole.log(res)\n// \t\t\t\t},\n// \t\t\t\tfail(res) {\n// \t\t\t\t\tconsole.log(4);\n// \t\t\t\t\tconsole.log(res)\n// \t\t\t\t}\n// \t\t\t})\n// \t\t}\n        },\n        computed: {\n            // 计算购物车商品数量\n            productNums () {\n                let nums = 0\n                for (let i in this.cartData.list) {\n\t\t\t\t\tif(this.cartData.list[i].is_select){\n\t\t\t\t\t\tnums += this.cartData.list[i].nums;\n\t\t\t\t\t}\n                }\n                return nums\n            },\n            // 判断商户是否开启积分抵扣 1开启 2未开启\n            isOpenPoint () {\n                return this.$store.state.config.point_switch\n            },\n            // 获取使用的优惠券名称\n            usedCouponsCompute () {\n                let name = '未使用'\n                if (Object.keys(this.usedCoupons).length) {\n                    let coupons = []\n                    for (let i in this.usedCoupons) {\n                        coupons.push(this.usedCoupons[i])\n                    }\n                    name = coupons.join()\n                }\n                return name\n            },\n            // 判断是否开启发票功能\n            invoiceSwitch () {\n                return this.$store.state.config.invoice_switch || 2;\n            },\n            // 判断店铺开关\n            storeSwitch() {\n                return this.$store.state.config.store_switch || 2;\n            },\n            // 根据接口返回数据判断是否使用优惠券\n            couponIsUsed () {\n                return this.cartData.coupon instanceof Array\n            }\n        },\n        watch: {\n            // 监听数据状态(切换收货地址, 是否使用优惠券, 是否使用积分) 重新请求订单数据\n            params: {\n                handler () {\n                    this.getCartList()\n                },\n                deep: true\n            }\n        }\n    }\n","import mod from \"-!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1590568661556\n      var cssReload = require(\"D:/HBuilderX.2.7.5.20200519.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}