{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/7-star-app/main.js","webpack:///C:/Users/Administrator/Desktop/7-star-app/pages/cart/index/index.vue?810e","webpack:///C:/Users/Administrator/Desktop/7-star-app/pages/cart/index/index.vue?a79e","webpack:///C:/Users/Administrator/Desktop/7-star-app/pages/cart/index/index.vue?3abd","webpack:///C:/Users/Administrator/Desktop/7-star-app/pages/cart/index/index.vue?1500","webpack:///C:/Users/Administrator/Desktop/7-star-app/pages/cart/index/index.vue","webpack:///C:/Users/Administrator/Desktop/7-star-app/pages/cart/index/index.vue?9f81","webpack:///C:/Users/Administrator/Desktop/7-star-app/pages/cart/index/index.vue?d857"],"names":["createPage","Page","mixins","goods","data","startX","startY","cartData","cartIds","checkboxAll","total","goSettlement","cartId","cartNum","isLoad","cartNums","editStatus","components","uniNumberBox","onShow","userToken","$db","get","getCartData","computed","shopName","$store","state","config","shop_name","goods_stocks_warn","methods","checkboxChange","e","_this","id","key","list","is_select","setNumsData","isAllCheckbox","arrayToStr","array","toString","ids","display","$api","cartList","res","status","showHandle","flag","i","nums","stockNo","maxStock","products","stock","stockTension","minStatus","maxStatus","spes","spes_desc","spesArray","split","spesOne","push","isTouchMove","indexOf","goods_pmt","$common","formatMoney","order_pmt","amount","length","n","promotion_list","checkboxAllButton","setAllCheckbox","k","type","bindChange","value","num","changeSelected","throttle","bindCartNumberOperation","setCartNum","$nextTick","errorToShow","msg","del","index","cartid","splice","removeCart","successToShow","collection","app","db","token","goods_id","currentTarget","dataset","goodsid","api","goodsCollection","isCollection","wx","showToast","title","complete","setTimeout","uni","hideToast","settlement","newData","substr","navigateTo","JSON","stringify","touchstart","forEach","v","setData","changedTouches","clientX","clientY","touchmove","touchMoveX","touchMoveY","angle","X","Y","Math","abs","start","end","_X","_Y","atan","PI","editBtn","editNoBtn","delList"],"mappings":"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","file":"pages/cart/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/cart/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=dae44684&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/Administrator/Desktop/7-star-app/pages/cart/index/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=dae44684&\"","var components = {\n  uniNumberBox: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-number-box/uni-number-box\" */ \"@/components/uni-number-box/uni-number-box.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport uniNumberBox from '@/components/uni-number-box/uni-number-box.vue';\r\nimport { goods } from '@/config/mixins.js';\r\nexport default {\r\n\tmixins: [goods],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tstartX: 0, //开始坐标\r\n\t\t\tstartY: 0,\r\n\t\t\tcartData: {}, //购物车数据\r\n\t\t\tcartIds: [], //选中ids\r\n\t\t\tcheckboxAll: false, //全选按钮\r\n\t\t\ttotal: 0.0, //总价\r\n\t\t\tgoSettlement: false, //去结算按钮\r\n\t\t\tcartId: '',\r\n\t\t\tcartNum: '',\r\n\t\t\tisLoad: false,\r\n\t\t\tcartNums: 0,\r\n\t\t\teditStatus: false\r\n\t\t};\r\n\t},\r\n\tcomponents: { uniNumberBox },\r\n\t//页面加载\r\n\tonShow: function() {\r\n\t\tlet userToken = this.$db.get('userToken');\r\n\t\tif (userToken) {\r\n\t\t\tthis.getCartData(); //获取购物车数据\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t// 从vuex中获取店铺名称\r\n\t\tshopName() {\r\n\t\t\treturn this.$store.state.config.shop_name;\r\n\t\t},\r\n\t\tgoods_stocks_warn() {\r\n\t\t\treturn this.$store.state.config.goods_stocks_warn;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tcheckboxChange: function(e) {\r\n\t\t\tlet _this = this;\r\n\t\t\tlet id = e;\r\n\t\t\tlet cartData = _this.cartData;\r\n\t\t\tfor (let key in cartData.list) {\r\n\t\t\t\tif (cartData.list[key].id == id) {\r\n\t\t\t\t\tif (cartData.list[key].is_select == true) {\r\n\t\t\t\t\t\tcartData.list[key].is_select = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcartData.list[key].is_select = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_this.cartData = cartData;\r\n\t\t\t_this.setNumsData();\r\n\t\t\t_this.isAllCheckbox();\r\n\t\t},\r\n\r\n\t\t//数组转字符串\r\n\t\tarrayToStr: function(array) {\r\n\t\t\treturn array.toString();\r\n\t\t},\r\n\r\n\t\t//获取购物车数据\r\n\t\tgetCartData: function() {\r\n\t\t\tlet _this = this;\r\n\t\t\tlet cartIds = _this.arrayToStr(_this.cartIds);\r\n\t\t\tlet data = {\r\n\t\t\t\tids: cartIds,\r\n\t\t\t\tdisplay: 'all'\r\n\t\t\t};\r\n\t\t\tthis.$api.cartList(data, function(res) {\r\n\t\t\t\tif (res.status) {\r\n\t\t\t\t\tlet data = res.data;\r\n\t\t\t\t\t_this.showHandle(data); //数量设置\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//渲染前配置数据\r\n\t\tshowHandle: function(data, flag = true) {\r\n\t\t\tlet _this = this;\r\n\t\t\tlet goSettlement = false;\r\n\t\t\tfor (let i in data.list) {\r\n\t\t\t\t//不可能购买0件\r\n\t\t\t\tif (data.list[i].nums < 1) {\r\n\t\t\t\t\tdata.list[i].nums = 1;\r\n\t\t\t\t}\r\n\t\t\t\t//不能买大于库存的数量(库存不足)\r\n\t\t\t\tlet stockNo = false;\r\n\t\t\t\tlet maxStock = data.list[i].products.stock;\r\n\t\t\t\tif (data.list[i].nums > data.list[i].products.stock) {\r\n\t\t\t\t\tstockNo = true;\r\n\t\t\t\t\tmaxStock = data.list[i].nums;\r\n\t\t\t\t}\r\n\t\t\t\tdata.list[i].maxStock = maxStock;\r\n\t\t\t\tdata.list[i].stockNo = stockNo;\r\n\r\n\t\t\t\t//库存紧张\r\n\t\t\t\tlet stockTension = false;\r\n\t\t\t\tif (_this.goods_stocks_warn >= data.list[i].products.stock) {\r\n\t\t\t\t\tstockTension = true;\r\n\t\t\t\t}\r\n\t\t\t\tdata.list[i].stockTension = stockTension;\r\n\r\n\t\t\t\t//设置样式\r\n\t\t\t\tdata.list[i].minStatus = 'normal';\r\n\t\t\t\tdata.list[i].maxStatus = 'normal';\r\n\t\t\t\tif (data.list[i].nums == 1) {\r\n\t\t\t\t\tdata.list[i].minStatus = 'disabled';\r\n\t\t\t\t}\r\n\t\t\t\tif (data.list[i].nums == data.list[i].products.stock) {\r\n\t\t\t\t\tdata.list[i].maxStatus = 'disabled';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//设置规格参数\r\n\t\t\t\tdata.list[i].spes = [];\r\n\t\t\t\tif (data.list[i].products.spes_desc != null) {\r\n\t\t\t\t\tlet spesArray = data.list[i].products.spes_desc.split(',');\r\n\t\t\t\t\tfor (let key in spesArray) {\r\n\t\t\t\t\t\tlet spesOne = spesArray[key].split(':');\r\n\t\t\t\t\t\tdata.list[i].spes.push(spesOne[1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//添加左滑效果\r\n\t\t\t\tdata.list[i].isTouchMove = false;\r\n\t\t\t\t//是否可以去支付\r\n\t\t\t\tif (data.list[i].is_select) {\r\n\t\t\t\t\tgoSettlement = true;\r\n\t\t\t\t}\r\n\t\t\t\t//id转换为字符串\r\n\t\t\t\tdata.list[i].id = _this.arrayToStr(data.list[i].id);\r\n\r\n\t\t\t\t//选中状态\r\n\t\t\t\tif (flag) {\r\n\t\t\t\t\tif (data.list[i].is_select) {\r\n\t\t\t\t\t\tif (_this.cartIds.indexOf(data.list[i].id) < 0) {\r\n\t\t\t\t\t\t\t_this.cartIds.push(data.list[i].id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tdata.goods_pmt = _this.$common.formatMoney(data.goods_pmt, 2, '');\r\n\t\t\tdata.order_pmt = _this.$common.formatMoney(data.order_pmt, 2, '');\r\n\t\t\tdata.amount = _this.$common.formatMoney(data.amount, 2, '');\r\n\t\t\tlet isLoad = false;\r\n\t\t\tif (data.list.length < 1) {\r\n\t\t\t\tisLoad = true;\r\n\t\t\t}\r\n\t\t\tlet n = 0;\r\n\t\t\tfor (let i in data.promotion_list) {\r\n\t\t\t\tn++;\r\n\t\t\t}\r\n\r\n\t\t\t_this.goSettlement = goSettlement;\r\n\t\t\t_this.isLoad = isLoad;\r\n\t\t\t_this.cartNums = n;\r\n\r\n\t\t\tif (flag) {\r\n\t\t\t\t_this.cartData = data;\r\n\t\t\t} else {\r\n\t\t\t\t_this.getCartData();\r\n\t\t\t}\r\n\r\n\t\t\t_this.isAllCheckbox();\r\n\t\t},\r\n\r\n\t\t//是否全选\r\n\t\tisAllCheckbox: function() {\r\n\t\t\tlet _this = this;\r\n\t\t\tlet cartData = _this.cartData.list;\r\n\t\t\tlet goSettlement = false;\r\n\t\t\tlet flag = true;\r\n\t\t\tfor (let key in cartData) {\r\n\t\t\t\tif (cartData[key].is_select == false && cartData[key].stockNo == false) {\r\n\t\t\t\t\tflag = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (cartData[key].is_select == true) {\r\n\t\t\t\t\tgoSettlement = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (cartData.length <= 0) {\r\n\t\t\t\tflag = false;\r\n\t\t\t}\r\n\r\n\t\t\t_this.checkboxAll = flag;\r\n\t\t\t_this.goSettlement = goSettlement;\r\n\t\t},\r\n\r\n\t\t//全选操作\r\n\t\tcheckboxAllButton: function(e) {\r\n\t\t\tif (this.checkboxAll == true) {\r\n\t\t\t\tthis.checkboxAll = false;\r\n\t\t\t\tthis.setAllCheckbox(false);\r\n\t\t\t} else {\r\n\t\t\t\tthis.checkboxAll = true;\r\n\t\t\t\tthis.setAllCheckbox(true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//全选设置\r\n\t\tsetAllCheckbox: function(e) {\r\n\t\t\tlet _this = this;\r\n\t\t\tlet cartData = _this.cartData;\r\n\t\t\tif (e) {\r\n\t\t\t\t//全选\r\n\t\t\t\tfor (let key in cartData.list) {\r\n\t\t\t\t\tif (cartData.list[key].stockNo == false) {\r\n\t\t\t\t\t\tcartData.list[key].is_select = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//全不选\r\n\t\t\t\tfor (let key in cartData.list) {\r\n\t\t\t\t\tcartData.list[key].is_select = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t_this.cartData = cartData;\r\n\t\t\t_this.setNumsData();\r\n\t\t\t_this.isAllCheckbox();\r\n\t\t},\r\n\r\n\t\t//设置刷新数据\r\n\t\tsetNumsData: function() {\r\n\t\t\tlet _this = this;\r\n\t\t\tlet cartData = _this.cartData;\r\n\t\t\tlet cartIds = [];\r\n\t\t\tfor (let key in cartData.list) {\r\n\t\t\t\tif (cartData.list[key].is_select) {\r\n\t\t\t\t\tcartIds.push(cartData.list[key].id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_this.cartIds = cartIds;\r\n\t\t\t_this.cartData = cartData;\r\n\t\t\tif (cartIds.length == 0) {\r\n\t\t\t\tlet cartData = _this.cartData;\r\n\t\t\t\tfor (let k in cartData.promotion_list) {\r\n\t\t\t\t\tcartData.promotion_list[k].type = 1;\r\n\t\t\t\t}\r\n\t\t\t\tcartData.goods_pmt = '0.00';\r\n\t\t\t\tcartData.order_pmt = '0.00';\r\n\t\t\t\tcartData.amount = '0.00';\r\n\t\t\t\t_this.cartData = cartData;\r\n\t\t\t} else {\r\n\t\t\t\t_this.getCartData();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//购物车数量调整\r\n\t\tbindChange(value, e) {\r\n\t\t\tlet _this = this;\r\n\t\t\tlet id = e.id;\r\n\t\t\tlet num = value;\r\n\t\t\tlet cartData = _this.cartData;\r\n\t\t\tlet changeSelected = false;\r\n\t\t\tfor (let key in cartData.list) {\r\n\t\t\t\tif (cartData.list[key].id == id) {\r\n\t\t\t\t\tif (num <= cartData.list[key].products.stock) {\r\n\t\t\t\t\t\tcartData.list[key].nums = num;\r\n\t\t\t\t\t\tchangeSelected = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (changeSelected) {\r\n\t\t\t\t_this.cartData = cartData;\r\n\t\t\t\t_this.cartId = id;\r\n\t\t\t\t_this.cartNum = num;\r\n\t\t\t\t_this.$common.throttle(_this.bindCartNumberOperation, _this, 350);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t//数量减一操作\r\n\t\tbindCartNumberOperation: function() {\r\n\t\t\tlet _this = this;\r\n\t\t\t_this.setCartNum(_this.cartId, _this.cartNum);\r\n\t\t},\r\n\r\n\t\t//设置购物车数量\r\n\t\tsetCartNum: function(id, nums) {\r\n\t\t\tlet _this = this;\r\n\t\t\tlet data = {\r\n\t\t\t\tid: id,\r\n\t\t\t\tnums: nums\r\n\t\t\t};\r\n\t\t\t_this.$api.setCartNum(data, function(res) {\r\n\t\t\t\tif (_this.cartIds.indexOf(id) > -1) {\r\n\t\t\t\t\t//_this.getCartData();\r\n\t\t\t\t\tif (res.status) {\r\n\t\t\t\t\t\t_this.$nextTick(function() {\r\n\t\t\t\t\t\t\t_this.showHandle(res.data, false);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_this.$common.errorToShow(res.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$nextTick(function() {\r\n\t\t\t\t\t\t_this.showHandle(res.data, false);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//删除事件\r\n\t\tdel: function(index, id) {\r\n\t\t\tlet _this = this;\r\n\t\t\tlet cartid = id; //cart_id\r\n\t\t\t//移除渲染\r\n\t\t\t_this.cartData.list.splice(index, 1);\r\n\t\t\t_this.cartData = _this.cartData;\r\n\t\t\t_this.isLoad = true;\r\n\r\n\t\t\t//移除数据库\r\n\t\t\tlet data = {\r\n\t\t\t\tids: cartid\r\n\t\t\t};\r\n\t\t\t_this.$api.removeCart(data, function(res) {\r\n\t\t\t\tif (res.status) {\r\n\t\t\t\t\t_this.$common.successToShow(res.msg);\r\n\t\t\t\t}\r\n\t\t\t\t_this.setNumsData();\r\n\t\t\t\t_this.isAllCheckbox();\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//收藏\r\n\t\tcollection: function(e) {\r\n\t\t\tlet _this = this;\r\n\t\t\tapp.db.userToken(function(token) {\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tgoods_id: e.currentTarget.dataset.goodsid\r\n\t\t\t\t};\r\n\t\t\t\tapp.api.goodsCollection(data, function(res) {\r\n\t\t\t\t\tfor (let k in _this.cartData.list) {\r\n\t\t\t\t\t\tif (_this.cartData.list[k].products.goods_id == e.currentTarget.dataset.goodsid) {\r\n\t\t\t\t\t\t\tif (res.msg == '收藏成功') {\r\n\t\t\t\t\t\t\t\t_this.cartData.list[k].isCollection = true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t_this.cartData.list[k].isCollection = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\tcomplete: function() {\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tuni.hideToast();\r\n\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//去结算\r\n\t\tsettlement: function(e) {\r\n\t\t\tlet _this = this;\r\n\t\t\tif (_this.goSettlement) {\r\n\t\t\t\tlet cartData = _this.cartData.list;\r\n\t\t\t\tlet newData = '';\r\n\t\t\t\tfor (let key in cartData) {\r\n\t\t\t\t\tif (cartData[key].is_select == true) {\r\n\t\t\t\t\t\tnewData += ',' + cartData[key].id;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (newData.substr(0, 1) == ',') {\r\n\t\t\t\t\tnewData = newData.substr(1);\r\n\t\t\t\t}\r\n\t\t\t\tif (newData.length > 0) {\r\n\t\t\t\t\t_this.$common.navigateTo('/pages/goods/place-order/index?cart_ids=' + JSON.stringify(newData));\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//没有选择不跳转\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//手指触摸动作开始 记录起点X坐标\r\n\t\ttouchstart: function(e) {\r\n\t\t\t//开始触摸时 重置所有删除\r\n\t\t\tlet _this = this;\r\n\t\t\t_this.cartData.list.forEach(function(v, i) {\r\n\t\t\t\tif (v.isTouchMove)\r\n\t\t\t\t\t//只操作为true的\r\n\t\t\t\t\tv.isTouchMove = false;\r\n\t\t\t});\r\n\t\t\t_this.setData({\r\n\t\t\t\tstartX: e.changedTouches[0].clientX,\r\n\t\t\t\tstartY: e.changedTouches[0].clientY,\r\n\t\t\t\tcartData: _this.cartData\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//滑动事件处理\r\n\t\ttouchmove: function(e) {\r\n\t\t\tlet _this = this;\r\n\t\t\tlet index = e.currentTarget.dataset.index; //当前索引\r\n\t\t\tlet startX = _this.startX; //开始X坐标\r\n\t\t\tlet startY = _this.startY; //开始Y坐标\r\n\t\t\tlet touchMoveX = e.changedTouches[0].clientX; //滑动变化坐标\r\n\t\t\tlet touchMoveY = e.changedTouches[0].clientY; //滑动变化坐标\r\n\t\t\tlet angle = _this.angle({ X: startX, Y: startY }, { X: touchMoveX, Y: touchMoveY }); //获取滑动角度\r\n\t\t\t_this.cartData.list.forEach(function(v, i) {\r\n\t\t\t\tv.isTouchMove = false;\r\n\t\t\t\t//滑动超过30度角 return\r\n\t\t\t\tif (Math.abs(angle) > 30) return;\r\n\t\t\t\tif (i == index) {\r\n\t\t\t\t\tif (touchMoveX > startX)\r\n\t\t\t\t\t\t//右滑\r\n\t\t\t\t\t\tv.isTouchMove = false;\r\n\t\t\t\t\t//左滑\r\n\t\t\t\t\telse v.isTouchMove = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t//更新数据\r\n\t\t\t_this.setData({\r\n\t\t\t\tcartData: _this.cartData\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//计算滑动角度\r\n\t\tangle: function(start, end) {\r\n\t\t\tlet _X = end.X - start.X,\r\n\t\t\t\t_Y = end.Y - start.Y;\r\n\t\t\t//返回角度 /Math.atan()返回数字的反正切值\r\n\t\t\treturn (360 * Math.atan(_Y / _X)) / (2 * Math.PI);\r\n\t\t},\r\n\t\t//点击编辑\r\n\t\teditBtn: function() {\r\n\t\t\tthis.editStatus = true;\r\n\t\t},\r\n\t\t//点击完成\r\n\t\teditNoBtn: function() {\r\n\t\t\tlet _this = this;\r\n\t\t\tthis.editStatus = false;\r\n\t\t\tlet is_select = false;\r\n\t\t\tfor (let i in _this.cartData.list) {\r\n\t\t\t\tif (_this.cartData.list[i].is_select) {\r\n\t\t\t\t\tis_select = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (is_select) {\r\n\t\t\t\t_this.getCartData();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdelList: function() {\r\n\t\t\tlet _this = this;\r\n\t\t\tlet ids = [];\r\n\t\t\tfor (let k in _this.cartData.list) {\r\n\t\t\t\tif (_this.cartData.list[k].is_select) {\r\n\t\t\t\t\tids += _this.cartData.list[k].id + ',';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet data = {\r\n\t\t\t\tids: ids\r\n\t\t\t};\r\n\t\t\t_this.$api.removeCart(data, function(res) {\r\n\t\t\t\tif (res.status) {\r\n\t\t\t\t\t_this.$common.successToShow(res.msg);\r\n\t\t\t\t}\r\n\t\t\t\t_this.setNumsData();\r\n\t\t\t\t_this.isAllCheckbox();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n","import mod from \"-!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1590568661509\n      var cssReload = require(\"D:/HBuilderX.2.7.5.20200519.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}