(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/member/order/orderdetail"],{"1c65":function(t,e,o){"use strict";var r,i=function(){var t=this,e=t.$createElement;t._self._c},a=[];o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return r}))},"39bb":function(t,e,o){"use strict";var r=o("a66e"),i=o.n(r);i.a},"405a":function(t,e,o){"use strict";o.r(e);var r=o("1c65"),i=o("fea9");for(var a in i)"default"!==a&&function(t){o.d(e,t,(function(){return i[t]}))}(a);o("39bb");var n,s=o("f0c5"),d=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],n);e["default"]=d.exports},"8b8f":function(t,e,o){"use strict";(function(t){o("7c19");r(o("66fd"));var e=r(o("405a"));function r(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])},a66e:function(t,e,o){},dcfe:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o("bbcf"),i={mixins:[r.orders,r.goods,r.tools],data:function(){return{orderId:0,orderInfo:{},teamInfo:[],lading:{status:!1,code:""}}},onLoad:function(e){this.orderId=e.order_id,this.orderId||this.$common.errorToShow("",(function(){t.navigateBack({delta:1})}))},onShow:function(){this.orderDetail()},computed:{isDelivery:function(){return!!(this.orderInfo&&this.orderInfo.delivery&&Object.keys(this.orderInfo.delivery).length)}},methods:{orderDetail:function(){var t=this,e={order_id:t.orderId};t.$api.orderDetail(e,(function(e){if(e.status){var o=e.data;switch(o.status){case 1:1===o.pay_status?t.$set(o,"status_name","待付款"):o.pay_status>=2&&1===o.ship_status?t.$set(o,"status_name","待发货"):o.pay_status>=2&&2===o.ship_status?t.$set(o,"status_name","部分发货"):o.pay_status>=2&&o.ship_status>=3&&1===o.confirm?t.$set(o,"status_name","已发货"):o.pay_status>=2&&o.ship_status>=3&&o.confirm>=2&&1===o.is_comment?t.$set(o,"status_name","待评价"):o.pay_status>=2&&o.ship_status>=3&&o.confirm>=2&&o.is_comment>=2&&t.$set(o,"status_name","已评价");break;case 2:t.$set(o,"status_name",o.text_status);break;case 3:t.$set(o,"status_name",o.text_status);break}for(var r in o.ctime=t.$common.timeToDate(o.ctime),null!==o.payment_time&&(o.payment_time=t.$common.timeToDate(o.payment_time)),o.items)o.items[r].promotion_list=JSON.parse(o.items[r].promotion_list);t.orderInfo=o,t.orderInfo.delivery.forEach((function(e){e.ctime=t.$common.timeToDate(e.ctime)})),2==o.order_type&&t.getTeam(o.order_id),o.ladingItem[0]&&(t.lading={status:!0,code:o.ladingItem[0].id})}else t.$common.errorToShow(e.msg)}))},cancelOrder:function(t){var e=this;this.$common.modelShow("提示","确认要取消订单吗?",(function(){var o={order_ids:t};e.$api.cancelOrder(o,(function(t){t.status?e.$common.successToShow(t.msg,(function(){e.orderDetail()})):e.$common.errorToShow(t.msg)}))}))},tackDeliery:function(t){var e=this;this.$common.modelShow("提示","确认收货操作吗?",(function(){var o={order_id:t};e.$api.confirmOrder(o,(function(t){t.status?e.$common.successToShow("确认收货成功",(function(){var t=getCurrentPages(),o=t[t.length-2];void 0!==o&&"pages/member/order/orderlist"===o.route&&(o.$vm.isReload=!0),e.orderDetail()})):e.$common.errorToShow(t.msg)}))}))},customerService:function(t){this.$common.navigateTo("../after_sale/index?order_id="+t)},logistics:function(t){var e=this.orderInfo.ship_area_name?this.orderInfo.ship_area_name:"",o=this.orderInfo.ship_address?this.orderInfo.ship_address:"",r=e+o;this.showExpress(this.orderInfo.delivery[t].logi_code,this.orderInfo.delivery[t].logi_no,r)},showCustomerService:function(t){1==t.aftersalesItem.length?this.$common.navigateTo("../after_sale/detail?aftersales_id="+t.bill_aftersales_id):t.aftersalesItem.length>1&&this.$common.navigateTo("../after_sale/list?order_id="+t.order_id)},goInvition:function(){t.navigateTo({url:"./invitation_group?order_id="+this.orderInfo.order_id+"&close_time="+this.teamInfo.close_time})},getTeam:function(t){var e=this;this.$api.getOrderPintuanTeamInfo({order_id:t},(function(t){t.status?e.teamInfo={list:t.data.teams,current_count:t.data.teams.length,people_number:t.data.people_number,team_nums:t.data.team_nums,close_time:t.data.close_time,id:t.data.id,team_id:t.data.team_id,rule_id:t.data.rule_id,status:t.data.status}:e.$common.errorToShow(t.msg)}))},goTaxList:function(){this.orderInfo&&this.orderInfo.invoice&&this.orderInfo.invoice.id&&t.navigateTo({url:"/pages/member/invoice/index?id="+this.orderInfo.invoice.id})}}};e.default=i}).call(this,o("543d")["default"])},fea9:function(t,e,o){"use strict";o.r(e);var r=o("dcfe"),i=o.n(r);for(var a in r)"default"!==a&&function(t){o.d(e,t,(function(){return r[t]}))}(a);e["default"]=i.a}},[["8b8f","common/runtime","common/vendor"]]]);