(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/member/distribution/my_store"],{"3ee2":function(t,e,o){"use strict";var n=o("6780"),r=o.n(n);r.a},6780:function(t,e,o){},"8bd9":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;o("cf70");function n(t){return i(t)||s(t)||a(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){if(t){if("string"===typeof t)return c(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(o):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(t,e):void 0}}function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function i(t){if(Array.isArray(t))return c(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}var u=function(){o.e("components/uni-load-more/uni-load-more").then(function(){return resolve(o("897a"))}.bind(null,o)).catch(o.oe)},l=function(){o.e("components/lvv-popup/lvv-popup").then(function(){return resolve(o("6125"))}.bind(null,o)).catch(o.oe)},d={components:{lvvPopup:l,uniLoadMore:u},data:function(){return{goodsList:[],loadStatus:"more",orderItems:[{name:"全部宝贝",nums:"115"},{name:"收藏本店",icon:"/static/image/ic-me-collect.png"},{name:"二维码",icon:"/static/image/qr_code.png"}],storeCode:"",store_name:"",store_logo:"",store_logo_src:"",store_banner:"",store_desc:"",store_banner_src:"",isWeixinBrowser:this.$common.isWeiXinBrowser(),total_goods:0,page:1,searchKey:"请输入关键字搜索",shareUrl:"/pages/share/jump"}},onShow:function(){"2"==this.$store.state.config.distribution_store&&t.switchTab({url:"/pages/index/index"})},onLoad:function(t){var e=t.store;this.storeCode=e,this.getDistribution(e),this.getGoods()},mounted:function(){},updated:function(){},methods:{openPopup:function(){this.$refs.lvvpopref.show()},closePopup:function(){this.$refs.lvvpopref.close()},goSearch:function(){var e=getCurrentPages(),o=e[e.length-2];if(o&&o.route){var n=o.route;"pages/index/search"==n?t.navigateBack({delta:1}):this.$common.navigateTo("/pages/index/search")}else this.$common.navigateTo("/pages/index/search")},goodsDetail:function(t){var e="/pages/goods/index/index?id="+t;this.$common.navigateTo(e)},getGoods:function(){var t=this,e={page:this.page,limit:10};this.loadStatus="loading",this.$api.goodsList(e,(function(e){e.status?(t.page>=e.data.total_page?t.loadStatus="noMore":(t.loadStatus="more",t.page++),t.goodsList=[].concat(n(t.goodsList),n(e.data.list))):t.$common.errorToShow(e.msg)}))},getDistribution:function(e){var o=this;o.$api.getStoreInfo({store:e},(function(e){e.status?(o.store_name=e.data.store_name,o.store_desc=e.data.store_desc,o.store_logo_src=e.data.store_logo_src,o.store_logo=e.data.store_logo,o.store_banner_src=e.data.store_banner_src,o.total_goods=e.data.total_goods,t.setNavigationBarTitle({title:o.store_name})):o.$common.errorToShow(e.msg)}))},createPoster:function(){var t=this,e={page:4,params:{store:this.info.store},type:3},o=this.$db.get("userToken");o&&(e.token=o),e.client=2,e.url="pages/share/jump",this.$api.share(e,(function(e){e.status?t.$common.navigateTo("/pages/share?poster="+encodeURIComponent(e.data)):t.$common.errorToShow(e.msg)}))},getShareUrl:function(){var t=this,e={client:2,url:"/pages/share/jump",type:1,page:4,params:{store:this.storeCode}},o=this.$db.get("userToken");o&&""!=o&&(e["token"]=o),this.$api.share(e,(function(e){t.shareUrl=e.data}))}},watch:{storeCode:{handler:function(){this.getShareUrl()},deep:!0}},onReachBottom:function(){"more"===this.loadStatus&&this.getGoods()},onShareAppMessage:function(){return{title:this.$store.state.config.share_title,imageUrl:this.$store.state.config.share_image,path:this.shareUrl}}};e.default=d}).call(this,o("543d")["default"])},b41c:function(t,e,o){"use strict";o.r(e);var n=o("c3ca"),r=o("f1ae");for(var a in r)"default"!==a&&function(t){o.d(e,t,(function(){return r[t]}))}(a);o("3ee2");var s,i=o("f0c5"),c=Object(i["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);e["default"]=c.exports},c3ca:function(t,e,o){"use strict";var n={lvvPopup:function(){return o.e("components/lvv-popup/lvv-popup").then(o.bind(null,"6125"))},uniLoadMore:function(){return o.e("components/uni-load-more/uni-load-more").then(o.bind(null,"897a"))}},r=function(){var t=this,e=t.$createElement;t._self._c},a=[];o.d(e,"b",(function(){return r})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}))},ee8c:function(t,e,o){"use strict";(function(t){o("7c19");n(o("66fd"));var e=n(o("b41c"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])},f1ae:function(t,e,o){"use strict";o.r(e);var n=o("8bd9"),r=o.n(n);for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a}},[["ee8c","common/runtime","common/vendor"]]]);