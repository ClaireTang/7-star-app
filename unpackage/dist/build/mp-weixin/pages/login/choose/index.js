(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/choose/index"],{"0071":function(e,n,t){"use strict";var o,i=function(){var e=this,n=e.$createElement;e._self._c},a=[];t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return o}))},"035d":function(e,n,t){"use strict";t.r(n);var o=t("3191"),i=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=i.a},"21d4":function(e,n,t){},3191:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t={data:function(){return{open_id:""}},computed:{logoImage:function(){return this.$store.state.config.shop_logo}},onLoad:function(){var n=this;this.getCode((function(t){var o={code:t};n.$api.login1(o,(function(t){t.status?n.open_id=t.data:n.$common.successToShow(t.msg,(function(){e.navigateBack({delta:1})}))}))}))},methods:{getCode:function(n){e.login({success:function(e){if(e.code)return n(e.code);this.$common.errorToShow("未取得code")},fail:function(e){this.$common.errorToShow("用户授权失败wx.login")}})},handleRefuse:function(){e.showToast({title:"未授权",icon:"none",duration:1e3}),setTimeout((function(){e.hideToast(),e.navigateBack(-1)}),1e3)},getUserInfo:function(e){var n=this;if("getUserInfo:fail auth deny"==e.detail.errMsg)n.$common.errorToShow("未授权");else{var t={open_id:n.open_id,iv:e.detail.iv,edata:e.detail.encryptedData,signature:e.detail.signature},o=n.$db.get("invitecode");o&&(t.invitecode=o),n.toLogin(t)}},toLogin:function(n){var t=this;t.$api.login2(n,(function(n){if(n.status){if("undefined"!=typeof n.data.token)return t.$db.set("userToken",n.data.token),e.navigateBack({delta:1}),!1;e.redirectTo({url:"/pages/login/login/index?user_wx_id="+n.data.user_wx_id})}else t.$common.errorToShow("登录失败，请重试")}))}}};n.default=t}).call(this,t("543d")["default"])},4845:function(e,n,t){"use strict";var o=t("21d4"),i=t.n(o);i.a},"4ce4":function(e,n,t){"use strict";(function(e){t("7c19");o(t("66fd"));var n=o(t("5e5d"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},"5e5d":function(e,n,t){"use strict";t.r(n);var o=t("0071"),i=t("035d");for(var a in i)"default"!==a&&function(e){t.d(n,e,(function(){return i[e]}))}(a);t("4845");var u,c=t("f0c5"),r=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],u);n["default"]=r.exports}},[["4ce4","common/runtime","common/vendor"]]]);