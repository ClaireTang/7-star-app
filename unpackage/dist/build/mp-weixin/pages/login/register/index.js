(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/register/index"],{"0b0a":function(t,e,i){"use strict";var o,n=function(){var t=this,e=t.$createElement;t._self._c},r=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return o}))},"1ca8":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i("bbcf"),n={mixins:[o.goBack],data:function(){return{maxMobile:11,mobile:"",code:"",pwd:"",verification:!0,timer:60,btnb:"btn btn-c btn-square btn-all"}},onLoad:function(t){var e=this;e.timer=parseInt(e.$db.get("timer")),null!=e.timer&&e.timer>0&&(e.countDown(),e.verification=!1),t.invitecode&&this.$db.set("invitecode",t.invitecode)},computed:{rightMobile:function(){var t={};return this.mobile?/^1[3456789]{1}\d{9}$/gi.test(this.mobile)?t.status=!0:(t.status=!1,t.msg="手机号格式不正确"):(t.status=!1,t.msg="请输入手机号"),t},regButtonClass:function(){return this.mobile&&11===this.mobile.length&&this.pwd&&this.code?this.btnb+" btn-b":this.btnb},sendCodeBtn:function(){var t="btn btn-g";return this.mobile.length===this.maxMobile&&this.rightMobile.status?t+" btn-b":t},logoImage:function(){return this.$store.state.config.shop_logo}},onShow:function(){var e=this,i=e.$db.get("userToken");if(i&&""!=i)return t.switchTab({url:"/pages/member/index/index"}),!0;e.timer=parseInt(e.$db.get("timer")),null!=e.timer&&e.timer>0&&(e.countDown(),e.verification=!1)},methods:{sendCode:function(){var t=this;this.rightMobile.status?(this.$common.loadToShow("发送中..."),setTimeout((function(){t.$common.loadToHide(),t.$api.sms({mobile:t.mobile,code:"reg"},(function(e){e.status?(t.timer=60,t.verification=!1,t.$common.successToShow(e.msg),t.countDown(),t.btnb="btn btn-square btn-all btn-b"):t.$common.errorToShow(e.msg)}))}),1e3)):this.$common.errorToShow(this.rightMobile.msg)},countDown:function(){var e=this,i=setInterval((function(){e.timer--,t.setStorage({key:"timer",data:e.timer,success:function(){}}),e.timer<=0&&(e.verification=!0,clearInterval(i))}),1e3)},toReg:function(){var e=this;if(this.rightMobile.status)if(this.code)if(this.pwd){var i={mobile:this.mobile,code:this.code,password:this.pwd},o=this.$db.get("invitecode");o&&(i.invitecode=o),this.$api.smsLogin(i,(function(i){i.status?(e.$db.set("userToken",i.data),e.$common.successToShow("注册成功",(function(){e.$db.del("uuid"),e.$db.del("invitecode");var i=e.$store.state.redirectPage?e.$store.state.redirectPage:"/pages/member/index/index";e.$store.commit({type:"redirect",page:""}),t.reLaunch({url:i})}))):e.$common.errorToShow(i.msg)}))}else this.$common.errorToShow("请输入登录密码");else this.$common.errorToShow("请输入短信验证码");else this.$common.errorToShow(this.rightMobile.msg)},toLogin:function(){this.$common.navigateTo("/pages/login/login/index1")},goAgreement:function(){var t=this.$store.state.config.user_agreement_id;this.$common.navigateTo("/pages/article/index?id_type=1&id="+t)},goPrivacy:function(){var t=this.$store.state.config.privacy_policy_id;this.$common.navigateTo("/pages/article/index?id_type=1&id="+t)}}};e.default=n}).call(this,i("543d")["default"])},"589a":function(t,e,i){"use strict";i.r(e);var o=i("0b0a"),n=i("957c");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("7cee");var s,c=i("f0c5"),a=Object(c["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);e["default"]=a.exports},"7cee":function(t,e,i){"use strict";var o=i("9b98"),n=i.n(o);n.a},"957c":function(t,e,i){"use strict";i.r(e);var o=i("1ca8"),n=i.n(o);for(var r in o)"default"!==r&&function(t){i.d(e,t,(function(){return o[t]}))}(r);e["default"]=n.a},"9b98":function(t,e,i){},e804:function(t,e,i){"use strict";(function(t){i("7c19");o(i("66fd"));var e=o(i("589a"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])}},[["e804","common/runtime","common/vendor"]]]);