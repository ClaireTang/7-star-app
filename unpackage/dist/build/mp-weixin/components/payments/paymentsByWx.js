(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/payments/paymentsByWx"],{"17a4":function(t,e,n){"use strict";var a=n("6340"),r=n.n(a);r.a},"23fb":function(t,e,n){"use strict";var a,r=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}))},"5c0e":function(t,e,n){"use strict";n.r(e);var a=n("889f"),r=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=r.a},6340:function(t,e,n){},"889f":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n("cf70");var a={props:{orderId:{type:String,default:function(){return""}},recharge:{type:Number,default:function(){return 0}},uid:{type:Number,default:function(){return 0}},type:{type:Number,default:function(){return 1}}},data:function(){return{payments:[],popShow:!1}},mounted:function(){this.getPayments()},methods:{getPayments:function(){var t=this;this.$api.paymentList({},(function(e){e.status&&(t.payments=t.formatPayments(e.data))}))},formatPayments:function(t){var e=this;return t=t.filter((function(t){return"alipay"!==t.code})),2===this.type&&(t=t.filter((function(t){return"balancepay"!==t.code||1===t.is_online}))),t.forEach((function(t){e.$set(t,"icon","/static/image/"+t.code+".png")})),t},toPayHandler:function(e){var n=this;this.popShow=!0;var a=e.target.value.code,r=e.detail.formId,o={payment_code:a,payment_type:this.type,params:{formid:r}};o["ids"]=1==this.type||5==this.type||6==this.type?this.orderId:this.uid,2==this.type&&this.recharge?o["params"]={money:this.recharge}:5!=this.type&&6!=this.type||!this.recharge||(o["params"]={formid:this.orderId});var i=this;switch(a){case"wechatpay":this.$api.pay(o,(function(e){e.status?t.requestPayment({provider:"wxpay",timeStamp:e.data.timeStamp,nonceStr:e.data.nonceStr,package:e.data.package,signType:e.data.signType,paySign:e.data.paySign,success:function(t){"requestPayment:ok"===t.errMsg&&i.$common.successToShow(e.msg,(function(){i.$common.redirectTo("/pages/goods/payment/result?id="+e.data.payment_id)}))}}):n.$common.errorToShow(e.msg)}));break;case"balancepay":this.$api.pay(o,(function(t){t.status?n.$common.redirectTo("/pages/goods/payment/result?id="+t.data.payment_id):n.$common.errorToShow(t.msg)}));break;case"offline":this.$common.modelShow("线下支付说明","请联系客服进行线下支付",(function(){}),!1,"取消","确定");break}},popBtn:function(){this.popShow=!1}}};e.default=a}).call(this,n("543d")["default"])},"99d8":function(t,e,n){"use strict";n.r(e);var a=n("23fb"),r=n("5c0e");for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);n("17a4");var i,s=n("f0c5"),c=Object(s["a"])(r["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);e["default"]=c.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/payments/paymentsByWx-create-component',
    {
        'components/payments/paymentsByWx-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("99d8"))
        })
    },
    [['components/payments/paymentsByWx-create-component']]
]);
